<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba de Conversi贸n de Fechas</title>
</head>
<body>
    <h1>И Prueba de Conversi贸n de Fechas UTC a GMT-3</h1>
    
    <div id="results"></div>
    
    <script>
        // Simular las funciones de dateUtils.ts
        const convertUTCToParaguay = (utcDate) => {
            try {
                const date = typeof utcDate === 'string' ? new Date(utcDate) : utcDate;
                
                // Crear fecha en GMT-3 (UTC-3) - solo conversi贸n manual
                const paraguayTime = new Date(date.getTime() - (3 * 60 * 60 * 1000));
                
                // Formatear manualmente para evitar problemas de timezone
                const day = paraguayTime.getDate().toString().padStart(2, '0');
                const month = (paraguayTime.getMonth() + 1).toString().padStart(2, '0');
                const year = paraguayTime.getFullYear();
                const hours = paraguayTime.getHours().toString().padStart(2, '0');
                const minutes = paraguayTime.getMinutes().toString().padStart(2, '0');
                const seconds = paraguayTime.getSeconds().toString().padStart(2, '0');
                
                return `${day}/${month}/${year}, ${hours}:${minutes}:${seconds}`;
            } catch (error) {
                console.error('Error convirtiendo fecha UTC a Paraguay:', error);
                return 'Fecha inv谩lida';
            }
        };

        const convertUTCToParaguayDate = (utcDate) => {
            try {
                const date = typeof utcDate === 'string' ? new Date(utcDate) : utcDate;
                
                const paraguayTime = new Date(date.getTime() - (3 * 60 * 60 * 1000));
                
                // Formatear manualmente para evitar problemas de timezone
                const day = paraguayTime.getDate().toString().padStart(2, '0');
                const month = (paraguayTime.getMonth() + 1).toString().padStart(2, '0');
                const year = paraguayTime.getFullYear();
                
                return `${day}/${month}/${year}`;
            } catch (error) {
                console.error('Error convirtiendo fecha UTC a Paraguay:', error);
                return 'Fecha inv谩lida';
            }
        };

        // Fechas de prueba
        const testDates = [
            '2025-01-10T04:35:10.000Z', // Fecha de la base de datos
            '2025-01-10T01:35:10.000Z', // Fecha actual UTC mencionada
            new Date().toISOString() // Fecha actual
        ];

        const results = document.getElementById('results');
        
        testDates.forEach((testDate, index) => {
            const utcDate = new Date(testDate);
            const paraguayDateTime = convertUTCToParaguay(testDate);
            const paraguayDate = convertUTCToParaguayDate(testDate);
            
            results.innerHTML += `
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px; border-radius: 5px;">
                    <h3>Prueba ${index + 1}</h3>
                    <p><strong>Fecha UTC original:</strong> ${testDate}</p>
                    <p><strong>Fecha UTC (Date object):</strong> ${utcDate.toString()}</p>
                    <p><strong>Fecha GMT-3 (DateTime):</strong> ${paraguayDateTime}</p>
                    <p><strong>Fecha GMT-3 (Solo fecha):</strong> ${paraguayDate}</p>
                    <p><strong>Diferencia en horas:</strong> ${(utcDate.getTime() - new Date(testDate).getTime()) / (1000 * 60 * 60)} horas</p>
                </div>
            `;
        });

        // Mostrar informaci贸n de timezone
        results.innerHTML += `
            <div style="border: 1px solid #007bff; margin: 10px; padding: 10px; border-radius: 5px; background-color: #f8f9fa;">
                <h3>癸 Informaci贸n del Sistema</h3>
                <p><strong>Zona horaria del navegador:</strong> ${Intl.DateTimeFormat().resolvedOptions().timeZone}</p>
                <p><strong>Offset del navegador:</strong> ${new Date().getTimezoneOffset()} minutos</p>
                <p><strong>Fecha actual del navegador:</strong> ${new Date().toString()}</p>
                <p><strong>Fecha actual UTC:</strong> ${new Date().toISOString()}</p>
            </div>
        `;
    </script>
</body>
</html>
